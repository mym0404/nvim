---@diagnostic disable: undefined-global
local lush = require("lush")
local hsl = lush.hsl
local hsluv = lush.hsluv

local undercurl = require("utils/utils").is_windows and "undercurl,bold" or "undercurl"

local palette = {
  theme = "#9ebaff",
  error_label = "#E0787C",
  error_undercurl = "#E0787C",
  warn_label = "#EED45F",
  warn_undercurl = "#EED45F",
  info_label = "#2f81f7",
  info_undercurl = "#2f81f7",
  hint_label = "#acacac",
  hint_undercurl = "#acacac",
  untracked_label = "#E0787C",
  untracked_undercurl = "#E0787C",
  text = "#ffffff",
  text_sub = "#737373",
  text_sub2 = "#333333",
}
local special = { fg = "#c79cff", bg = "#2a2136", gui = "bold" }
local text = { fg = palette.text }
local text_sub = { fg = palette.text_sub }
local visual = { bg = "#214283" }
local searched = { bg = "#46ba1c", fg = palette.text }
local searched_selected = { fg = palette.text, bg = "#db16a3", gui = "bold" }
local folded = { bg = "#281e2e", fg = "white", gui = "italic" }
local border = { fg = "#424242" }
local win_border = { fg = "#313131" }
local float = { fg = palette.text }
local pmenu = { fg = palette.text }

local vcs = {
  added = {
    label = { fg = "#AFE8AF" },
    code = { bg = "#374A37" },
  },
  modified = {
    label = { fg = "#72A7D7" },
    code = { bg = "#26315c" },
  },
  modified_highlight = {
    label = { fg = "#72A7D7" },
    code = { bg = "#5a689c", gui = "bold" },
  },
  deleted = {
    label = { fg = palette.error_label },
    code = { bg = "#9B464B" },
  },
  conflicted = {
    code = { bg = "#442A45" },
  },
  ignored = {
    label = { fg = "#736c41", gui = "italic" },
  },
  untracked = {
    label = { fg = palette.untracked_label },
  },
}

local error = { fg = "#FD9491" }
local error_line = { fg = error.fg, bg = "#772e2c" }
local warn = { fg = "#EED45F" }
local warn_line = { fg = warn.fg, bg = "#5c4f17" }
local info = { fg = "#2f81f7" }
local info_line = { fg = info.fg, bg = "#1c3d6a" }
local hint = { fg = "#acacac" }
local hint_line = { fg = hint.fg, bg = "#222222" }

local code = {
  comment = { fg = "#7AE755", gui = "nocombine" },
  type = { fg = "#94B0CB" },
  keyword = { fg = "#A7D5FF" },
  module = { fg = "#94B0CB" },
  interface = { fg = "#F2F68D" },
  class = { fg = "#FFDAAD" },
  struct = { fg = "#FFDAAD" },
  tag = { fg = "#CCA06A" },
  number = { fg = "#809DFF" },
  string = { fg = "#FFFCD7" },
  annotation = { fg = "#ff7b72" },
  attribute = { fg = "#ffffff" },
  modifier = { fg = "#ff7b72" },
  escape = { fg = "#de669a", gui = "bold,italic" },
  inlay_hint = {
    fg = hsl(text_sub.fg).lighten(30),
    bg = hsl("#313133"),
  },
}

local theme = lush(function(injected_functions)
  local sym = injected_functions.sym
  return {
    Special(special),
    Type(code.type),
    PreProc({ fg = "#ff7b72" }),
    Keyword(code.keyword),
    Statement(code.keyword),
    Conditional(code.keyword),
    FlashBackdrop({ fg = "#828282" }),
    Substitute({ bg = "#0036a3", fg = "white", gui = "bold" }),
    Number(code.number),
    CursorLine({ bg = "#323232" }),

    CopilotAnnotation(special),
    CopilotSuggestion({ fg = "#779abf" }),

    Search(searched),
    IncSearch(searched_selected),

    Normal(text),
    Visual(visual),
    Scrollbar({ bg = "#4c4c4c" }),

    FlashMatch(searched),
    FlashCurrent(searched),
    FlashBackrop({}),
    FlashLabel(searched_selected),
    FlashCursor({ fg = "black", bg = "red" }),

    VertSplit(win_border),
    WinSeparator(win_border),

    Added(vcs.added.code),
    Changed(vcs.modified.code),
    Removed(vcs.deleted.code),

    DiffAdd(vcs.added.code),
    DiffDelete(vcs.deleted.code),
    DiffChange(vcs.modified.code),
    DiffText(vcs.modified_highlight.code),
    diffOldFile({ fg = "#d29922" }),
    diffIndexLine({ fg = "#ff7b72" }),
    diffLine({ fg = "#79c0ff" }),
    diffFile({ fg = "#2f81f7" }),
    diffNewFile({ fg = "#7d8590" }),
    diffAdded({ Added }),
    diffChanged({ Changed }),
    diffRemoved({ Removed }),

    Error(error),
    Hint(hint),
    Info(info),
    Warn(warn),
    VirtualTextHint({ fg = "#7d8590" }),

    YankyPut({ fg = info_line.fg, bg = info_line.bg, gui = "bold" }),
    YankyYanked({ fg = info_line.fg, bg = info_line.bg, gui = "bold" }),

    DiagnosticError(error),
    DiagnosticHint(hint),
    DiagnosticInfo(info),
    DiagnosticWarn(warn),
    DiagnosticVirtualTextHint(hint),

    TermCursor({ gui = "reverse" }),
    LineNr({ fg = "#939393", gui = "bold" }),
    LineNrAbove({ LineNr, gui = "bold" }),
    LineNrBelow({ LineNr, gui = "bold" }),
    NonText(text_sub),
    CursorLineNr({ fg = "#e6edf3", gui = "bold" }),
    Constant(text),
    TabLineFill({}),
    lualine_c_16_LV_MatchParen_inactive({ bg = "#04070d", fg = "#e6edf3", gui = "bold,nocombine" }),

    DiagnosticDeprecated({ gui = "strikethrough", sp = "nvimlightred" }),

    NoiceFormatProgressDone({ bg = "#3c3b33" }),
    TodoSignNOTE({ fg = "#7d8590" }),
    TodoFgNOTE({ fg = "#7d8590" }),
    TodoBgNOTE({ bg = "#7d8590", fg = "#0d1117", gui = "bold" }),
    TodoSignPERF({ fg = "#e6edf3" }),
    TodoFgPERF({ fg = "#e6edf3" }),
    TodoBgPERF({ bg = "#e6edf3", fg = "#0d1117", gui = "bold" }),
    TodoSignTEST({ fg = "#e6edf3" }),
    TodoFgTEST({ fg = "#e6edf3" }),
    TodoBgTEST({ bg = "#e6edf3", fg = "#0d1117", gui = "bold" }),
    TodoSignWARN({ fg = "#d29922" }),
    TodoFgWARN({ fg = "#d29922" }),
    TodoBgWARN({ bg = "#d29922", fg = "#0d1117", gui = "bold" }),
    TodoSignHACK({ fg = "#d29922" }),
    TodoFgHACK({ fg = "#d29922" }),
    TodoBgHACK({ bg = "#d29922", fg = "#0d1117", gui = "bold" }),
    TodoSignFIX({ fg = "#f85149" }),
    TodoFgFIX({ fg = "#f85149" }),
    TodoBgFIX({ bg = "#f85149", fg = "#0d1117", gui = "bold" }),
    TodoSignTODO({ fg = "#2f81f7" }),
    TodoFgTODO({ fg = "#2f81f7" }),
    TodoBgTODO({ bg = "#2f81f7", fg = "#0d1117", gui = "bold" }),
    SnacksBackdrop({ bg = "red" }),
    MiniPickMatchRanges({ fg = "#d29922" }),
    MiniPickPrompt({ fg = "#79c0ff" }),
    IndentBlanklineContextStart({ gui = "underline", sp = "#f0883e" }),
    NvimTreeImageFile({ fg = "#e3b341" }),
    NvimTreeRootFolder({ fg = "#e6edf3", gui = "bold" }),
    NvimTreeEndOfBuffer({ fg = "#04070d" }),
    MiniCursorword({ bg = "#17335a" }),
    MiniDiffOverChange({ bg = "#484f58", fg = "#e6edf3" }),
    MiniPickHeader({ fg = "#79c0ff" }),
    NvimTreeGitRenamed({ fg = "#a371f7" }),
    MiniClueNextKey({ fg = "#2f81f7" }),
    MiniStarterFooter({ fg = "#6e7681", gui = "italic" }),
    MiniStarterHeader({ fg = "#58a6ff" }),
    MiniStarterItemBullet({ fg = "#161b22" }),
    MiniStarterItemPrefix({ fg = "#d29922" }),
    MiniStarterQuery({ fg = "#2f81f7" }),
    MiniStatuslineDevinfo({ bg = "#484f58", fg = "#e6edf3" }),
    MiniStatuslineFileinfo({ bg = "#484f58", fg = "#e6edf3" }),
    MiniStatuslineFilename({ bg = "#0d1117", fg = "#7a7f85" }),
    MiniStatuslineInactive({ bg = "#04070d", fg = "#7a7f85" }),
    MiniStatuslineModeCommand({ bg = "#d2a8ff", fg = "#0d1117", gui = "bold" }),
    MiniStatuslineModeInsert({ bg = "#3fb950", fg = "#0d1117", gui = "bold" }),
    MiniStatuslineModeNormal({ bg = "#58a6ff", fg = "#0d1117", gui = "bold" }),
    MiniStatuslineModeOther({ fg = "#0d1117", gui = "bold" }),
    MiniStatuslineModeReplace({ bg = "#ff7b72", fg = "#0d1117", gui = "bold" }),
    lessVariable({ fg = "#e6edf3" }),
    MiniTablineModifiedHidden({ bg = "#e6edf3", fg = "#0d1117" }),
    MiniTablineModifiedVisible({ bg = "#04070d", fg = "#43698b" }),
    MiniTablineTabpagesection({ bg = "#1c3d6a", gui = "bold" }),
    MiniTestFail({ fg = "#ff7b72", gui = "bold" }),
    MiniTestPass({ fg = "#3fb950", gui = "bold" }),
    MiniTrailspace({ bg = "#ff7b72" }),
    CmpItemKindSnippet({ fg = "#7d8590" }),
    NotifyDEBUGTitle({ fg = "#e6edf3" }),
    NotifyTRACETitle({ fg = "#d2a8ff" }),
    NotifyERRORTitle({ fg = "#ff7b72" }),
    NotifyWARNTitle({ fg = "#d29922" }),
    NotifyINFOTitle({ fg = "#3fb950" }),
    TreesitterContext({ bg = "#132339" }),
    WhichKeyFloat({ bg = "#04070d" }),
    DapUIType({ fg = "#bc8cff" }),
    NeogitDiffContextHighlight({ bg = "#171b22" }),
    yamlFlowMappingKey({ fg = "#7ee787" }),
    yamlBlockMappingKey({ fg = "#7ee787" }),
    MiniTablineVisible({ bg = "#43698b", fg = "#04070d" }),
    jsonKeyword({ fg = "#7ee787" }),
    MiniTablineModifiedCurrent({ fg = "#5e94c5", gui = "bold" }),
    MiniTablineHidden({ fg = "#e6edf3" }),
    MiniTablineCurrent({ bg = "#5e94c5", fg = "#04070d", gui = "bold" }),
    MiniStatuslineModeVisual({ bg = "#d29922", fg = "#0d1117", gui = "bold" }),
    MiniCursorwordCurrent({ bg = "#17335a" }),
    LspTroubleCount({ bg = "#6e7681", fg = "#bc8cff" }),
    NvimTreeOpenedFile({ fg = "#79c0ff" }),
    NvimTreeGitDeleted({ fg = "#f85149" }),
    htmlTag({ fg = "#7ee787" }),
    cssBraces({ fg = "#e6edf3" }),
    DapUIThread({ fg = "#3fb950", gui = "bold" }),
    DapUIScope({ fg = "#76e3ea" }),
    DapUIWatchesEmpty({ fg = "#ff7b72" }),
    DapUIWatchesValue({ fg = "#3fb950" }),
    DapUIBreakpointsDisabledLine({ fg = "#6e7681" }),
    DapUIModifiedValue({ fg = "#76e3ea", gui = "bold" }),
    DashboardFooter({ fg = "#79c0ff", gui = "italic" }),
    IndentBlanklineChar({ fg = "#23272d" }),
    IndentBlanklineContextChar({ fg = "#475f68" }),
    LspTroubleText({ fg = "#7d8590" }),
    LspTroubleNormal({ bg = "#04070d", fg = "#6e7681" }),
    MiniClueSeparator({ fg = "#7d8590" }),
    MiniDiffSignAdd({ fg = "#3fb950" }),
    MiniDiffSignChange({ fg = "#d29922" }),
    MiniDiffSignDelete({ fg = "#f85149" }),
    MiniFilesFile({ fg = "#e6edf3" }),
    MiniFilesTitleFocused({ fg = "#e6edf3", gui = "bold" }),
    MiniJump2dSpot({ fg = "#bc8cff", gui = "bold" }),
    MiniJump2dSpotAhead({ fg = "#2f81f7", gui = "nocombine" }),
    MiniJump2dSpotUnique({ fg = "#d29922", gui = "bold" }),
    MiniMapSymbolLine({ fg = "#2f81f7" }),
    MiniMapSymbolView({ fg = "#1e4273" }),
    MiniIconsPurple({ fg = "#bc8cff" }),
    MiniIconsGreen({ fg = "#56d364" }),
    MiniIconsBlue({ fg = "#58a6ff" }),
    MiniIconsOrange({ fg = "#f0883e" }),
    NormalSB({ bg = "#04070d", fg = "#e6edf3" }),
    MiniIconsRed({ fg = "#ff7b72" }),
    MiniIconsYellow({ fg = "#e3b341" }),
    MiniIconsGrey({ fg = "#e6edf3" }),
    MiniIconsAzure({ fg = "#79c0ff" }),
    MiniHipatternsTodo({ bg = "#7d8590", fg = "#04070d", gui = "bold" }),
    MiniHipatternsNote({ bg = "#2f81f7", fg = "#04070d", gui = "bold" }),
    MiniHipatternsHack({ bg = "#d29922", fg = "#04070d", gui = "bold" }),
    MiniHipatternsFixme({ bg = "#f85149", fg = "#04070d", gui = "bold" }),
    MiniIconsCyan({ fg = "#76e3ea" }),

    DiagnosticUnderlineHint({
      gui = undercurl,
      sp = palette.hint_undercurl,
      -- fg = palette.hint_undercurl,
    }),
    DiagnosticUnderlineInfo({
      gui = undercurl,
      sp = palette.info_undercurl,
      -- fg = palette.hint_undercurl,
    }),
    DiagnosticUnderlineWarn({
      gui = undercurl,
      sp = palette.warn_undercurl,
      -- fg = palette.hint_undercurl,
    }),
    DiagnosticUnderlineError({
      gui = undercurl,
      sp = palette.error_undercurl,
      -- fg = palette.hint_undercurl,
    }),

    MatchParen({ bg = "#1e4273", fg = "#e6edf3", gui = "bold" }),
    Function({ fg = "#C7FFB8" }),
    Identifier({ fg = "#ffffff" }),
    Operator({ fg = text.fg }),
    Todo({ bg = "#2f81f7", fg = "#0d1117" }),
    String(code.string),
    Comment(code.comment),
    LspSignatureActiveParameter(text),
    SnacksPickerGitStatusModified({ fg = "#80CBC4" }),
    LspReferenceWrite({ bg = "#17335a" }),
    LspReferenceText({ bg = "#17335a" }),
    LspReferenceRead({ bg = "#17335a" }),
    LspInlayHint(code.inlay_hint),
    LspCodeLensSeparator({ fg = "#6e7681" }),
    LspCodeLens({ fg = "#8b949e" }),
    Cursor({ bg = "#e6edf3", fg = "#0d1117" }),
    WinBarNC({ bg = "#0d1117", fg = "#6e7681", gui = "bold" }),
    WinBar({ bg = "#0d1117", fg = "#6e7681", gui = "bold" }),
    FloatBorder(border),
    NormalFloat(float),
    PmenuThumb({ bg = "#17335a" }),
    PmenuSel(visual),
    Pmenu(pmenu),
    NormalNC({ fg = "#e6edf3" }),
    Whitespace({ fg = "#484f58" }),
    ColorColumn({ bg = "#171b22" }),
    TabLineSel({ fg = "#0d1117" }),
    TabLine({ fg = "#7d8590" }),
    SpellLocal({ gui = undercurl, sp = "#2f81f7" }),
    SpellRare({ gui = undercurl, sp = "#2f81f7" }),
    SpellCap({ gui = undercurl, sp = "#d29922" }),
    SpellBad({ gui = undercurl, sp = "#f85149" }),
    Conceal({ fg = "#8b949e" }),
    SignColumn({ fg = "#6e7681" }),
    FoldColumn({ fg = "#6e7681" }),
    Folded(folded),
    WarningMsg({ fg = "#d29922" }),
    Title({ fg = palette.theme, gui = "bold" }),
    MoreMsg({ fg = "#2f8cf7", gui = "bold" }),
    ModeMsg({ fg = "#d29922", gui = "bold" }),
    ErrorMsg({ fg = "#FD9491" }),
    EndOfBuffer({ fg = "#0d1117" }),
    Directory(text),
    StatusLine({ bg = "#3f76b6", fg = "#04070d" }),
    StatusLineNC({ bg = "#0d1117", fg = "#0d1117", gui = "underline", sp = "#04070d" }),
    NoiceHiddenCursor({ blend = 100, gui = "nocombine" }),

    sym("@code.interface")(code.interface),
    sym("@code.attribute")(code.attribute),
    sym("@code.struct")(code.struct),
    sym("@code.class")(code.class),
    sym("@code.operator")(text),
    sym("@code")(text),

    sym("@variable")(text),
    sym("@variable.parameter")(text),
    sym("@variable.scss")({ sym("@variable.parameter") }),
    sym("@variable.parameter.vimdoc")({ fg = "#ffa657" }),
    sym("@variable.parameter.nix")({ sym("@variable.parameter") }),
    sym("@variable.parameter.builtin")(code.keyword),
    sym("@variable.member")(text),
    sym("@variable.member.nix")({ sym("@variable.member") }),
    sym("@variable.builtin")(code.keyword),
    sym("@type")(code.module),
    sym("@type.sql")({ sym("@variable") }),
    sym("@type.qualifier")({ fg = "#ff7b72" }),
    sym("@type.css")(code.tag),
    sym("@type.builtin")(code.keyword),
    sym("@text.title")({ fg = "red" }),
    sym("@tag")(code.tag),
    sym("@tag.builtin")({ sym("@tag") }),
    sym("@tag.attribute")(code.attribute),
    sym("@string")(code.string),
    sym("@string.special.url")({ fg = code.keyword.fg, gui = "underline " }),
    sym("@string.special.path.gitignore")({ fg = "#d2a8ff" }),
    sym("@string.regexp")(code.escape),
    sym("@string.escape")(code.escape),
    sym("@punctuation.special")({ fg = special.fg }),
    sym("@punctuation.delimiter")(text),
    sym("@punctuation.bracket")({ fg = "#e6edf3" }),
    sym("@property")({ sym("@variable.member") }),
    sym("@property.yaml")(text),
    sym("@property.json")(text),
    sym("@operator")(text),
    sym("@number")(code.number),
    sym("@module")(code.module),
    sym("@module.elixir")({ sym("@type") }),
    sym("@module.builtin")(code.keyword),
    sym("@markup")(special),
    sym("@markup.underline")({ gui = "underline" }),
    sym("@markup.strong")({ fg = text.fg, gui = "bold" }),
    sym("@markup.strikethrough")({ fg = text.fg, gui = "strikethrough" }),
    sym("@markup.raw")({ fg = text.fg }),
    sym("@markup.list")(code.keyword),
    sym("@markup.list.unchecked")({ fg = "#6e7681" }),
    sym("@markup.list.checked")({ fg = "#3fb950" }),
    sym("@markup.link")({ fg = text.fg, gui = "underline" }),
    sym("@markup.link.uri")({ fg = code.keyword.fg, gui = "underline " }),
    sym("@markup.link.label")({ fg = palette.text }),
    sym("@markup.italic")({ fg = text.fg, gui = "italic" }),
    sym("@markup.environment")(code.annotation),
    sym("@markup.environment.name")(special),
    sym("@lsp.typemod.variable.injected")({ sym("@variable") }),
    sym("@lsp.typemod.variable.defaultLibrary")({ sym("@variable.builtin") }),
    sym("@lsp.type.type")({ sym("@type") }),
    sym("@lsp.type.type.typescript")(code.keyword),
    sym("@lsp.type.struct")(code.struct),
    sym("@lsp.type.regexp")({ sym("@string.regexp") }),
    sym("@lsp.type.parameter")({ sym("@variable.parameter") }),
    sym("@lsp.type.modifier")(code.modifier),
    sym("@lsp.type.interface")(code.interface),
    sym("@lsp.type.identifier")(text),
    sym("@lsp.type.event")({ sym("@type") }),
    sym("@lsp.type.enum")(code.struct),
    sym("@lsp.type.class")(code.struct),
    sym("@lsp.mod.deprecated")({ DiagnosticDeprecated }),
    sym("@label")(special),

    sym("@keyword")(code.keyword),
    sym("@keyword.function")(code.keyword),
    sym("@keyword.exception")(code.keyword),
    sym("@function")({ Function }),
    sym("@function.builtin")({ Function }),
    sym("@constructor")({ fg = "#ffa657" }),
    sym("@constructor.lua")({ fg = "#e6edf3" }),
    sym("@constant")({ Constant }),
    sym("@constant.html")({ sym("@tag") }),
    sym("@constant.builtin")(code.keyword),
    sym("@conceal")(text),
    sym("@comment")(code.comment),
    sym("@comment.warning")({ bg = "#d29922", fg = "#0d1117" }),
    sym("@comment.todo")({ bg = "#7d8590", fg = "#0d1117" }),
    sym("@comment.note")({ DiagnosticInfo }),
    sym("@comment.info")({ bg = "#2f81f7", fg = "#0d1117" }),
    sym("@comment.hint")({ bg = "#7d8590", fg = "#0d1117" }),
    sym("@comment.error")({ bg = "#f85149", fg = "#0d1117" }),
    sym("@attribute")({ Constant }),
    sym("@attribute.builtin")(special),

    lualine_transitional_lualine_a_normal_to_lualine_b_normal({
      bg = "#1c2f45",
      fg = "#58a6ff",
      gui = "nocombine",
    }),
    lualine_transitional_lualine_b_normal_to_lualine_c_normal({
      bg = "#0e1219",
      fg = "#1c2f45",
      gui = "nocombine",
    }),
    lualine_transitional_lualine_b_normal_to_lualine_x_11_normal({
      bg = "#0e1219",
      fg = "#1c2f45",
      gui = "nocombine",
    }),
    lualine_transitional_lualine_a_insert_to_lualine_b_insert({
      bg = "#173322",
      fg = "#3fb950",
      gui = "nocombine",
    }),
    lualine_transitional_lualine_b_insert_to_lualine_c_insert({
      bg = "#0e1318",
      fg = "#173322",
      gui = "nocombine",
    }),
    lualine_transitional_lualine_b_insert_to_lualine_x_11_insert({
      bg = "#0e1318",
      fg = "#173322",
      gui = "nocombine",
    }),
    lualine_c_filetype_MiniIconsAzure_normal({ bg = "#0e1219", fg = "#79c0ff", gui = "nocombine" }),
    lualine_c_filetype_MiniIconsAzure_insert({ bg = "#0e1318", fg = "#79c0ff", gui = "nocombine" }),
    lualine_c_filetype_MiniIconsAzure_visual({ bg = "#0f1217", fg = "#79c0ff", gui = "nocombine" }),
    lualine_c_filetype_MiniIconsAzure_replace({
      bg = "#0f1218",
      fg = "#79c0ff",
      gui = "nocombine",
    }),
    lualine_c_filetype_MiniIconsAzure_command({
      bg = "#0f1319",
      fg = "#79c0ff",
      gui = "nocombine",
    }),
    lualine_c_filetype_MiniIconsAzure_terminal({
      bg = "#0f1217",
      fg = "#79c0ff",
      gui = "nocombine",
    }),
    lualine_c_filetype_MiniIconsAzure_inactive({
      bg = "#04070d",
      fg = "#79c0ff",
      gui = "nocombine",
    }),
    lualine_c_16_LV_Bold_normal({ bg = "#0e1219", fg = "#3a6aa2", gui = "bold,nocombine" }),
    lualine_c_16_LV_Bold_insert({ bg = "#0e1318", fg = "#2b7639", gui = "bold,nocombine" }),
    lualine_c_16_LV_Bold_visual({ bg = "#0f1217", fg = "#83631e", gui = "bold,nocombine" }),
    lualine_c_16_LV_Bold_replace({ bg = "#0f1218", fg = "#9e514e", gui = "bold,nocombine" }),
    lualine_c_16_LV_Bold_command({ bg = "#0f1319", fg = "#836ca2", gui = "bold,nocombine" }),
    lualine_c_16_LV_Bold_terminal({ bg = "#0f1217", fg = "#95582e", gui = "bold,nocombine" }),
    lualine_c_16_LV_Bold_inactive({ bg = "#04070d", fg = "#4e5359", gui = "bold,nocombine" }),
    lualine_transitional_lualine_b_normal_to_lualine_c_13_normal({
      bg = "#0e1219",
      fg = "#1c2f45",
      gui = "nocombine",
    }),
    lualine_transitional_lualine_b_normal_to_lualine_c_filetype_MiniIconsAzure_normal({
      bg = "#0e1219",
      fg = "#1c2f45",
      gui = "nocombine",
    }),
    lualine_transitional_lualine_a_command_to_lualine_b_command({
      bg = "#342f45",
      fg = "#d2a8ff",
      gui = "nocombine",
    }),
    lualine_transitional_lualine_b_command_to_lualine_c_filetype_MiniIconsAzure_command({
      bg = "#0f1319",
      fg = "#342f45",
      gui = "nocombine",
    }),
    lualine_transitional_lualine_b_command_to_lualine_x_11_command({
      bg = "#0f1319",
      fg = "#342f45",
      gui = "nocombine",
    }),
    lualine_c_16_LV_MatchParen_normal({ bg = "#0e1219", fg = "#e6edf3", gui = "bold,nocombine" }),
    lualine_c_16_LV_MatchParen_insert({ bg = "#0e1318", fg = "#e6edf3", gui = "bold,nocombine" }),
    lualine_c_16_LV_MatchParen_visual({ bg = "#0f1217", fg = "#e6edf3", gui = "bold,nocombine" }),
    lualine_c_16_LV_MatchParen_replace({ bg = "#0f1218", fg = "#e6edf3", gui = "bold,nocombine" }),
    lualine_c_16_LV_MatchParen_command({ bg = "#0f1319", fg = "#e6edf3", gui = "bold,nocombine" }),
    lualine_c_16_LV_MatchParen_terminal({ bg = "#0f1217", fg = "#e6edf3", gui = "bold,nocombine" }),
    lualine_transitional_lualine_b_normal_to_lualine_c_diagnostics_error_normal({
      bg = "#0e1219",
      fg = "#1c2f45",
      gui = "nocombine",
    }),
    BlinkCmpDoc({ NormalFloat }),
    BlinkCmpSignatureHelp({ NormalFloat }),
    BlinkCmpDocBorder(border),
    BlinkCmpDocCursorLine({ Visual }),
    BlinkCmpDocSeparator(border),
    BlinkCmpGhostText({ NonText }),
    BlinkCmpMenu({ Pmenu }),
    BlinkCmpMenuBorder(border),
    BlinkCmpMenuSelection({ PmenuSel }),
    BlinkCmpScrollBarThumb({ PmenuThumb }),
    BlinkCmpSignatureHelpActiveParameter({ LspSignatureActiveParameter }),
    BlinkCmpSignatureHelpBorder(border),
    BlinkCmpLabelMatch(special),
    Bold({ gui = "bold" }),
    Boolean(code.keyword),
    Character(code.string),
    CmpItemKindClass({ Type }),
    CmpItemKindConstructor({ sym("@constructor") }),
    CmpItemKindEnum({ Constant }),
    CmpItemKindEnumMember({ sym("@variable.member") }),
    CmpItemKindEvent({ Constant }),
    CmpItemKindField({ sym("@variable.member") }),
    CmpItemKindFunction({ Function }),
    CmpItemKindInterface({ Constant }),
    CmpItemKindKeyword(code.keyword),
    CmpItemKindMethod({ Function }),
    CmpItemKindModule({ sym("@module") }),
    CmpItemKindOperator({ Operator }),
    CmpItemKindReference(code.keyword),
    CmpItemKindStruct({ Type }),
    CmpItemKindTypeParameter({ sym("@variable.member") }),
    CmpItemKindUnit({ Constant }),
    CmpItemKindValue(code.keyword),
    CmpItemKindVariable({ sym("@variable") }),
    CmpItemMenu(code.comment),
    CocExplorerNormalFloat({ NormalSB }),
    cssMedia(code.keyword),
    cssProp({ Constant }),
    cssPseudoClassId({ Function }),
    CurSearch({ IncSearch }),
    CursorColumn({ CursorLine }),
    CursorIM({ Cursor }),
    CursorLineFold({ FoldColumn }),
    CursorLineSign({ SignColumn }),
    DapUIBreakpointsCurrentLine({ DapUIThread }),
    DapUIBreakpointsInfo({ DapUIWatchesValue }),
    DapUIBreakpointsPath({ DapUIScope }),
    DapUIDecoration({ DapUIScope }),
    DapUIFloatBorder(border),
    DapUILineNumber({ DapUIScope }),
    DapUIPlayPause({ DapUIWatchesValue }),
    DapUIRestart({ DapUIWatchesValue }),
    DapUISource({ DapUIType }),
    DapUIStepBack({ DapUIScope }),
    DapUIStepInto({ DapUIScope }),
    DapUIStepOut({ DapUIScope }),
    DapUIStepOver({ DapUIScope }),
    DapUIStop({ DapUIWatchesEmpty }),
    DapUIStoppedThread({ DapUIScope }),
    DapUIUnavailable({ DapUIBreakpointsDisabledLine }),
    DapUIWatchesError({ DapUIWatchesEmpty }),
    DapUIWinSelect({ DapUIModifiedValue }),
    DashboardCenter(code.string),
    DashboardHeader({ Title }),
    DashboardShortCut({ Identifier }),
    Debug(special),
    Define({ PreProc }),
    Delimiter(text),
    DiagnosticFloatingError({ DiagnosticError }),
    DiagnosticOk({ fg = "nvimlightgreen" }),
    DiagnosticFloatingHint({ DiagnosticHint }),
    DiagnosticFloatingInfo({ DiagnosticInfo }),
    DiagnosticFloatingOk({ DiagnosticOk }),
    DiagnosticFloatingWarn({ fg = DiagnosticWarn.fg }),
    DiagnosticSignError({ fg = DiagnosticError.fg }),
    DiagnosticSignHint({ DiagnosticHint }),
    DiagnosticSignInfo({ DiagnosticInfo }),
    DiagnosticSignOk({ DiagnosticOk }),
    DiagnosticSignWarn({ fg = DiagnosticWarn.fg }),
    DiagnosticUnderlineOk({ gui = "underline", sp = "nvimlightgreen" }),
    DiagnosticUnnecessary({ NonText }),
    DiagnosticVirtualLinesError({ fg = DiagnosticError.fg }),
    DiagnosticVirtualLinesHint({ DiagnosticHint }),
    DiagnosticVirtualLinesInfo({ DiagnosticInfo }),
    DiagnosticVirtualLinesOk({ DiagnosticOk }),
    DiagnosticVirtualLinesWarn({ fg = DiagnosticWarn.fg }),
    DiagnosticVirtualTextError({ DiagnosticError }),
    DiagnosticVirtualTextInfo({ DiagnosticInfo }),
    DiagnosticVirtualTextOk({ DiagnosticOk }),
    DiagnosticVirtualTextWarn({ fg = DiagnosticWarn.fg }),
    Exception(code.keyword),
    FidgetTask({ LineNr }),
    FidgetTitle({ Title }),
    Float(code.number),
    FloatShadow({ bg = "nvimdarkgrey4", blend = 80 }),
    FloatShadowThrough({ bg = "nvimdarkgrey4", blend = 100 }),
    FloatTitle({ Title }),
    FzfLuaBorder(border),
    FzfLuaCursor({ Cursor }),
    FzfLuaCursorLine({ CursorLine }),
    FzfLuaCursorLineNr({ CursorLineNr }),
    FzfLuaNormal(text),
    FzfLuaScrollFloatFull({ PmenuThumb }),
    FzfLuaSearch({ IncSearch }),
    FzfLuaTitle({ Title }),
    Ignore(text),
    Include({ PreProc }),
    Italic({ gui = "italic" }),
    jsonNull({ Constant }),
    Label({ Conditional }),
    lCursor({ Cursor }),
    lessAmpersand({ Function }),
    lessClass({ Function }),
    lessClassCall({ Function }),
    lessCssAttribute({ Constant }),
    lessFunction({ Constant }),
    LspReferenceTarget({ LspReferenceText }),
    Macro({ PreProc }),
    MiniAnimateCursor({ gui = "reverse,nocombine" }),
    MiniAnimateNormalFloat({ NormalFloat }),
    MiniClueBorder(border),
    MiniClueDescSingle({ NormalFloat }),
    MiniCompletionActiveParameter({ gui = "underline" }),
    MiniDepsHint({ DiagnosticHint }),
    MiniDepsInfo({ DiagnosticInfo }),
    MiniDepsMsgBreaking({ fg = DiagnosticWarn.fg }),
    MiniDepsPlaceholder(code.comment),
    MiniDepsTitle({ Title }),
    MiniDepsTitleSame({ DiffText }),
    MiniFilesBorder(border),
    MiniFilesCursorLine({ CursorLine }),
    MiniFilesDirectory({ Directory }),
    MiniFilesNormal({ NormalFloat }),
    MiniIndentscopePrefix({ gui = "nocombine" }),
    MiniJump({ SpellRare }),
    MiniJump2dDim(code.comment),
    MiniMapNormal({ NormalFloat }),
    MiniMapSymbolCount(special),
    MiniNotifyBorder(border),
    MiniNotifyNormal({ NormalFloat }),
    MiniOperatorsExchangeFrom({ IncSearch }),
    MiniPickBorder(border),
    MiniPickIconDirectory({ Directory }),
    MiniPickMatchCurrent({ CursorLine }),
    MiniPickMatchMarked({ Visual }),
    MiniPickNormal({ NormalFloat }),
    MiniPickPreviewLine({ CursorLine }),
    MiniPickPreviewRegion({ IncSearch }),
    MiniStarterCurrent({ gui = "nocombine" }),
    MiniStarterInactive(code.comment),
    MiniStarterItem(text),
    MiniStarterSection(special),
    MiniSurround({ IncSearch }),
    MiniTablineFill({ TabLineFill }),
    MiniTestEmphasis({ gui = "bold" }),
    MsgSeparator({ StatusLine }),
    NeoTreeDimText({ Conceal }),
    NeoTreeNormal({ NormalSB }),
    NoiceCmdlinePopup(text),
    NoiceCmdlinePrompt({ Title }),
    NoiceCompletionItemKindDefault(special),
    NoiceConfirm(text),
    NoiceCursor({ Cursor }),
    NoiceFormatConfirm({ CursorLine }),
    NoiceFormatConfirmDefault({ Visual }),
    NoiceFormatDate(special),
    NoiceFormatEvent({ NonText }),
    NoiceFormatKind({ NonText }),
    NoiceFormatLevelDebug({ NonText }),
    NoiceFormatLevelError({ DiagnosticVirtualTextError }),
    NoiceFormatLevelInfo({ DiagnosticVirtualTextInfo }),
    NoiceFormatLevelOff({ NonText }),
    NoiceFormatLevelTrace({ NonText }),
    NoiceFormatLevelWarn({ DiagnosticVirtualTextWarn }),
    NoiceFormatProgressTodo({ CursorLine }),
    NoiceFormatTitle({ Title }),
    NoiceLspProgressClient({ Title }),
    NoiceLspProgressSpinner({ Constant }),
    NoiceLspProgressTitle({ NonText }),
    NoicePopup({ NormalFloat }),
    NoicePopupBorder(border),
    NoicePopupmenu({ Pmenu }),
    NoicePopupmenuBorder(border),
    NoicePopupmenuMatch(special),
    NoicePopupmenuSelected({ PmenuSel }),
    NoiceScrollbarThumb({ PmenuThumb }),
    NoiceSplit({ NormalFloat }),
    NoiceSplitBorder(border),
    NoiceVirtualText({ DiagnosticVirtualTextInfo }),
    NotifyDEBUGBody({ NotifyDEBUGTitle }),
    NotifyDEBUGBorder(border),
    NotifyDEBUGIcon({ NotifyDEBUGTitle }),
    NotifyERRORBody({ NotifyERRORTitle }),
    NotifyERRORBorder(border),
    NotifyERRORIcon({ NotifyERRORTitle }),
    NotifyINFOBody({ NotifyINFOTitle }),
    NotifyINFOBorder(border),
    NotifyINFOIcon({ NotifyINFOTitle }),
    NotifyTRACEBody({ NotifyTRACETitle }),
    NotifyTRACEBorder(border),
    NotifyTRACEIcon({ NotifyTRACETitle }),
    NotifyWARNBody({ NotifyWARNTitle }),
    NotifyWARNBorder(border),
    NotifyWARNIcon({ NotifyWARNTitle }),
    NvimAssignment({ Operator }),
    NvimInternalError({ bg = "red", fg = "red" }),
    NvimFigureBrace({ NvimInternalError }),
    NvimIdentifier({ Identifier }),
    NvimInvalid({ Error }),
    NvimInvalidSingleQuotedUnknownEscape({ NvimInternalError }),
    NvimInvalidSpacing({ ErrorMsg }),
    NvimNumber(code.number),
    NvimNumberPrefix({ Type }),
    NvimOperator({ Operator }),
    NvimOptionSigil({ Type }),
    NvimSingleQuotedUnknownEscape({ NvimInternalError }),
    NvimSpacing(text),
    NvimString(code.string),
    NvimTreeNormal({ NormalSB }),
    PmenuExtra({ Pmenu }),
    PmenuExtraSel({ PmenuSel }),
    PmenuKind({ Pmenu }),
    PmenuKindSel({ PmenuSel }),
    PmenuMatch({ gui = "bold" }),
    PmenuMatchSel({ gui = "bold" }),
    PmenuSbar({ Pmenu }),
    PreCondit({ PreProc }),
    qfFileName({ Directory }),
    qfLineNr({ LineNr }),
    Question({ MoreMsg }),
    QuickFixLine({ CursorLine }),
    RedrawDebugClear({ bg = "nvimdarkyellow" }),
    RedrawDebugComposed({ bg = "nvimdarkgreen" }),
    RedrawDebugNormal({ gui = "reverse" }),
    RedrawDebugRecompose({ bg = "nvimdarkred" }),
    Repeat({ Conditional }),
    SignColumnSB({ SignColumn }),
    SnacksDashboardDesc({ fg = palette.theme, gui = "bold" }),
    SnacksDashboardDir({ NonText }),
    SnacksDashboardFile(special),
    SnacksDashboardFooter({ Title }),
    SnacksDashboardHeader({ fg = special.fg, gui = "bold" }),
    SnacksDashboardIcon({ fg = palette.theme, gui = "bold" }),
    SnacksDashboardKey({ fg = palette.theme, gui = "bold" }),
    SnacksDashboardNormal(text),
    SnacksDashboardSpecial(special),
    SnacksDashboardTitle(special),
    SnacksIndent({ fg = palette.text_sub2 }),
    SnacksIndent1({ DiagnosticInfo }),
    SnacksIndent2({ DiagnosticHint }),
    SnacksIndent3({ fg = DiagnosticWarn.fg }),
    SnacksIndent4({ fg = DiagnosticError.fg }),
    SnacksIndent5({ DiagnosticInfo }),
    SnacksIndent6({ DiagnosticHint }),
    SnacksIndent7({ fg = DiagnosticWarn.fg }),
    SnacksIndent8({ fg = DiagnosticError.fg }),
    SnacksIndentScope({ fg = "#a584b3", gui = "bold" }),
    SnacksInputBorder(border),
    SnacksInputIcon({ DiagnosticHint }),
    SnacksInputNormal(text),
    SnacksInputTitle({ DiagnosticInfo }),
    SnacksNormal({ fg = NormalFloat.fg }),
    SnacksNormalNC({ fg = NormalFloat.fg }),
    SnacksNotifierBorderDebug({ NonText }),
    SnacksNotifierBorderError({ fg = DiagnosticError.fg }),
    SnacksNotifierBorderInfo({ DiagnosticInfo }),
    SnacksNotifierBorderTrace({ NonText }),
    SnacksNotifierBorderWarn({ fg = DiagnosticWarn.fg }),
    SnacksNotifierDebug(text),
    SnacksNotifierError(text),
    SnacksNotifierFooterDebug({ NonText }),
    SnacksNotifierFooterError({ fg = DiagnosticError.fg }),
    SnacksNotifierFooterInfo({ DiagnosticInfo }),
    SnacksNotifierFooterTrace({ NonText }),
    SnacksNotifierFooterWarn({ fg = DiagnosticWarn.fg }),
    SnacksNotifierHistory(text),
    SnacksNotifierHistoryDateTime(special),
    SnacksNotifierHistoryTitle({ Title }),
    SnacksNotifierIconDebug({ NonText }),
    SnacksNotifierIconTrace({ NonText }),
    SnacksNotifierInfo(text),
    SnacksNotifierMinimal({ NormalFloat }),
    SnacksNotifierTitleDebug({ NonText }),
    SnacksNotifierTitleError({ fg = DiagnosticError.fg }),
    SnacksNotifierTitleInfo({ DiagnosticInfo }),
    SnacksNotifierTitleTrace({ NonText }),
    SnacksNotifierTitleWarn({ fg = DiagnosticWarn.fg }),
    SnacksNotifierTrace(text),
    SnacksNotifierWarn(text),
    SnacksPicker({ fg = NormalFloat.fg }),
    SnacksPickerAuEvent({ Constant }),
    SnacksPickerAuGroup({ Type }),
    SnacksPickerAuPattern(code.string),
    SnacksPickerBold({ Bold }),
    SnacksPickerBorder(border),
    SnacksPickerBufFlags({ NonText }),
    SnacksPickerBufNr(code.number),
    SnacksPickerCmd({ Function }),
    SnacksPickerCmdBuiltin({ sym("@constructor") }),
    SnacksPickerCol({ LineNr }),
    SnacksPickerComment(code.comment),
    SnacksPickerDesc(code.comment),
    SnacksPickerDiagnosticCode(special),
    SnacksPickerDiagnosticSource(code.comment),
    SnacksPickerDimmed({ Conceal }),
    SnacksPickerDir({ fg = "#a0a0a0" }),
    SnacksPickerDirectory({ Directory }),
    SnacksPickerIcon(special),
    SnacksPickerIconArray({ sym("@punctuation.bracket") }),
    SnacksPickerIconCategory({ sym("@module") }),
    SnacksPickerIconClass({ sym("@type") }),
    SnacksPickerIconConstructor({ sym("@constructor") }),
    SnacksPickerIconEvent(special),
    SnacksPickerIconField({ sym("@variable.member") }),
    SnacksPickerIconFile(text),
    SnacksPickerIconModule({ sym("@module") }),
    SnacksPickerIconNamespace({ sym("@module") }),
    SnacksPickerIconNull({ sym("@constant.builtin") }),
    SnacksPickerIconPackage({ sym("@module") }),
    SnacksPickerIconVariable({ sym("@variable") }),
    SnacksPickerIdx(code.number),
    SnacksPickerItalic({ Italic }),
    SnacksPickerKeymapLhs(special),
    SnacksPickerKeymapMode(code.number),
    SnacksPickerKeymapNowait({ sym("@variable.builtin") }),
    SnacksPickerKeymapRhs({ NonText }),
    SnacksPickerLink(code.comment),
    SnacksPickerLinkBroken({ fg = DiagnosticError.fg }),
    SnacksPickerCursorLine({ CursorLine }),
    SnacksPickerListCursorLine({ CursorLine }),
    SnacksPickerPreviewCursorLine({ CursorLine }),
    SnacksPickerLspAttached({ fg = DiagnosticWarn.fg }),
    SnacksPickerLspAttachedBuf({ DiagnosticInfo }),
    SnacksPickerLspDisabled({ fg = DiagnosticWarn.fg }),
    SnacksPickerLspEnabled(special),
    SnacksPickerLspUnavailable({ fg = DiagnosticError.fg }),
    SnacksPickerManPage(special),
    SnacksPickerManSection({ Number }),
    SnacksPickerMatch(special),
    SnacksPickerPathHidden(text),
    SnacksPickerPathIgnored(vcs.ignored.label),
    SnacksPickerPickWin({ Search }),
    SnacksPickerPrompt(special),
    SnacksPickerRegister({ Number }),
    SnacksPickerRow(code.string),
    SnacksPickerSearch({ Search }),
    SnacksPickerSelected({ Number }),
    SnacksPickerSpecial(special),
    SnacksPickerSpinner(special),
    SnacksPickerTime(special),
    SnacksPickerToggle({ DiagnosticVirtualTextInfo }),
    SnacksPickerTotals({ NonText }),
    SnacksPickerTree({ LineNr }),
    SnacksPickerUndoAdded({ Added }),
    SnacksPickerUndoCurrent({ sym("@variable.builtin") }),
    SnacksPickerUndoRemoved({ Removed }),
    SnacksPickerUndoSaved(special),
    SnacksPickerUnselected({ NonText }),
    SnacksStatusColumnMark({ DiagnosticHint }),
    SnacksWinBar({ Title }),
    SnacksWinKey(code.keyword),
    SnacksWinKeyDesc({ Function }),
    SnacksWinKeySep({ NonText }),
    SnippetTabstop({}),
    SpecialChar(special),
    SpecialComment(special),
    SpecialKey({ NonText }),
    StatusLineTerm({ StatusLine }),
    StatusLineTermNC({ StatusLineNC }),
    StorageClass({ Type }),
    Structure({ Type }),

    Tag(special),
    TelescopeMatching({ Search }),
    TelescopeSelection({ CursorLine }),
    TelescopeSelectionCaret({ fg = "#2f81f7" }),
    TinyInlineInvDiagnosticVirtualTextError({ Visual }),
    TinyInlineInvDiagnosticVirtualTextHint({ Visual }),
    TinyInlineInvDiagnosticVirtualTextInfo({ Visual }),
    TinyInlineInvDiagnosticVirtualTextWarn({ Visual }),
    TroubleCode(special),
    TroubleCount({ TabLineSel }),
    TroubleDiagnosticsCode(code.comment),
    TroubleDiagnosticsItemSource(code.comment),
    TroubleDirectory({ Directory }),
    TroubleFilename({ Directory }),
    TroubleIconArray({ sym("@punctuation.bracket") }),
    TroubleIconClass({ sym("@type") }),
    TroubleIconConstructor({ sym("@constructor") }),
    TroubleIconDirectory(special),
    TroubleIconEvent(special),
    TroubleIconField({ sym("@variable.member") }),
    TroubleIconFile(text),
    TroubleIconModule({ sym("@module") }),
    TroubleIconNamespace({ sym("@module") }),
    TroubleIconNull({ sym("@constant.builtin") }),
    TroubleIconPackage({ sym("@module") }),
    TroubleIconVariable({ sym("@variable") }),
    TroubleIndent({ LineNr }),
    TroubleIndentFoldClosed({ CursorLineNr }),
    TroubleNormal({ NormalFloat }),
    TroubleNormalNC({ NormalFloat }),
    TroublePos({ LineNr }),
    TroublePreview({ Visual }),
    TroubleSource(code.comment),
    TroubleText(text),
    Typedef({ Type }),
    Underlined({ gui = "underline" }),
    VisualNOS({ Visual }),
    WhichKey({ Identifier }),
    WhichKeyBorder(border),
    WhichKeyDesc(code.keyword),
    WhichKeyGroup({ Function }),
    WhichKeyIcon({ sym("@markup.link") }),
    WhichKeyIconAzure({ MiniIconsAzure }),
    WhichKeyIconBlue({ MiniIconsBlue }),
    WhichKeyIconCyan({ MiniIconsCyan }),
    WhichKeyIconGreen({ MiniIconsGreen }),
    WhichKeyIconGrey({ MiniIconsGrey }),
    WhichKeyIconOrange({ MiniIconsOrange }),
    WhichKeyIconPurple({ MiniIconsPurple }),
    WhichKeyIconRed({ MiniIconsRed }),
    WhichKeyIconYellow({ MiniIconsYellow }),
    WhichKeyNormal({ fg = NormalFloat.fg }),
    WhichKeySeparator(code.comment),
    WhichKeySeperator(code.comment),
    WhichKeyValue(code.comment),
    WildMenu({ Pmenu }),
    xmlAttrib({ htmlTag }),
    xmlTagName({ htmlTag }),

    BufferLineTabSeparator({ fg = "red" }),
    BufferLineTabSeparatorSelected({ fg = "red", gui = "bold" }),
    BufferLineSeparator({ NonText }),
    BufferLineOffsetSeparator({ fg = "red" }),
    BufferLineGroupSeparator({ fg = "red" }),
    BufferLineIndicatorSelected({ fg = palette.theme, gui = "bold" }),
    BufferLineIndicatorVisible({ fg = "white" }),
    BufferLineBackground({ NonText }),
    BufferLineDuplicate({ fg = text_sub.fg }),
    BufferLineDuplicateSelected({ fg = text.fg, gui = "bold" }),
    BufferLineDuplicateVisible({ fg = text_sub.fg }),
    BufferLineFill({ fg = text_sub.fg }),
    BufferLineGroupLabel({ fg = text_sub.fg }),
    BufferLineInfo({ fg = text_sub.fg }),
    BufferLineInfoSelected({ fg = text.fg, gui = "bold" }),
    BufferLineInfoVisible({ fg = text_sub.fg }),

    BufferLineModified(vcs.modified.label),
    BufferLineModifiedSelected({ fg = vcs.modified.label.fg, gui = "bold" }),
    BufferLineModifiedVisible({ BufferLineModified }),

    BufferLineTab({ fg = text_sub.fg }),
    BufferLineTabClose({ fg = text_sub.fg }),
    BufferLineTabSelected({ fg = text.fg, gui = "bold" }),

    BufferLineTruncMarker({ fg = text_sub.fg }),

    BufferLineBuffer({ fg = text_sub.fg }),
    BufferLineBufferSelected({ fg = text.fg, gui = "bold" }),
    BufferLineBufferVisible({ fg = text_sub.fg }),

    BufferLineError({ fg = text_sub.fg, gui = undercurl, sp = palette.error_undercurl }),
    BufferLineErrorVisible({ BufferLineError }),
    BufferLineErrorSelected({ fg = text.fg, gui = "bold,undercurl", sp = palette.error_undercurl }),

    BufferLineWarning({ fg = text_sub.fg, gui = undercurl, sp = palette.warn_uvimndercurl }),
    BufferLineWarningVisible({ BufferLineWarning }),
    BufferLineWarningSelected({ fg = text.fg, gui = "bold,undercurl", sp = palette.warn_undercurl }),

    BufferLineHint({ fg = text_sub.fg }),
    BufferLineHintVisible({ BufferLineHint }),
    BufferLineHintSelected({ fg = text.fg, gui = "bold" }),

    BufferLineNumbers({ fg = text_sub.fg }),
    BufferLineNumbersVisible({ BufferLineNumbers }),
    BufferLineNumbersSelected({ fg = text.fg, gui = "bold" }),

    BufferLinePick({ fg = text_sub.fg }),
    BufferLinePickVisible({ BufferLinePick }),
    BufferLinePickSelected({ fg = text.fg, gui = "bold" }),

    -- buffer line diagnostic
    BufferLineDiagnostic({ fg = text_sub.fg }),
    BufferLineDiagnosticSelected({ fg = text.fg, gui = "bold" }),
    BufferLineDiagnosticVisible({ fg = text_sub.fg }),

    BufferLineErrorDiagnostic({
      fg = palette.error_label,
      gui = "",
    }),
    BufferLineErrorDiagnosticSelected({
      BufferLineErrorDiagnostic,
    }),
    BufferLineErrorDiagnosticVisible({
      BufferLineErrorDiagnostic,
    }),

    BufferLineWarningDiagnostic({ fg = palette.warn_label }),
    BufferLineWarningDiagnosticSelected({ BufferLineWarningDiagnostic }),
    BufferLineWarningDiagnosticVisible({ BufferLineWarningDiagnostic }),

    BufferLineInfoDiagnostic({ fg = palette.info_label }),
    BufferLineInfoDiagnosticSelected({ BufferLineInfoDiagnostic }),
    BufferLineInfoDiagnosticVisible({ BufferLineInfoDiagnostic }),

    BufferLineHintDiagnostic({ fg = palette.hint_label }),
    BufferLineHintDiagnosticSelected({ BufferLineHintDiagnostic }),
    BufferLineHintDiagnosticVisible({ BufferLineHintDiagnostic }),

    -- BufferLineCloseButton({ fg = text_sub.fg }),
    -- BufferLineCloseButtonSelected({ fg = text.fg, gui = "bold" }),
    -- BufferLineCloseButtonVisible({ fg = text_sub.fg }),
    -- BufferLineMiniIconsAzure({ fg = text_sub.fg }),
    -- BufferLineMiniIconsAzureInactive({ fg = text_sub.fg }),
    -- BufferLineMiniIconsAzureSelected({ fg = text.fg }),
    GitSignsAdd(vcs.added.label),
    GitSignsChange(vcs.modified.label),
    GitSignsDelete(vcs.deleted.label),
    GitSignsStagedAdd(vcs.added.label),
    GitSignsStagedAddCul(vcs.added.label),
    GitSignsStagedAddLn(vcs.added.label),
    GitSignsStagedAddNr(vcs.added.label),
    GitSignsStagedChange(vcs.modified.label),
    GitSignsStagedChangeCul(vcs.modified.label),
    GitSignsStagedChangedelete(vcs.modified.label),
    GitSignsStagedChangedeleteCul(vcs.modified.label),
    GitSignsStagedChangedeleteLn(vcs.modified.label),
    GitSignsStagedChangedeleteNr(vcs.modified.label),
    GitSignsStagedChangeLn(vcs.modified.label),
    GitSignsStagedChangeNr(vcs.modified.label),
    GitSignsStagedDelete(vcs.deleted.label),
    GitSignsStagedDeleteCul(vcs.deleted.label),
    GitSignsStagedDeleteNr(vcs.deleted.label),
    GitSignsStagedTopdelete(vcs.deleted.label),
    GitSignsStagedTopdeleteCul(vcs.deleted.label),
    GitSignsStagedTopdeleteNr(vcs.deleted.label),
    GitSignsStagedUntracked(vcs.deleted.label),
    GitSignsStagedUntrackedCul(vcs.deleted.label),
    GitSignsStagedUntrackedLn(vcs.deleted.label),
    GitSignsStagedUntrackedNr(vcs.deleted.label),
    GitSignsAddCul({ GitSignsAdd }),
    GitSignsAddInline({ TermCursor }),
    GitSignsAddNr({ GitSignsAdd }),
    GitSignsChangeCul({ GitSignsChange }),
    GitSignsChangedelete({ GitSignsChange }),
    GitSignsChangeInline({ TermCursor }),
    GitSignsChangeNr({ GitSignsChange }),
    GitSignsCurrentLineBlame({ NonText }),
    GitSignsDeleteCul({ GitSignsDelete }),
    GitSignsDeleteInline({ TermCursor }),
    GitSignsDeleteNr({ GitSignsDelete }),
    GitSignsTopdelete({ GitSignsDelete }),
    GitSignsUntracked({ GitSignsAdd }),

    SnacksPickerGitBranch(vcs.deleted.label),
    SnacksPickerGitBranchCurrent(code.number),
    SnacksPickerGitBreaking({ Error }),
    SnacksPickerGitCommit({ sym("@variable.builtin") }),
    SnacksPickerGitDate(special),
    SnacksPickerGitDetached({ fg = DiagnosticWarn.fg }),
    SnacksPickerGitIssue(code.number),
    SnacksPickerGitScope({ Italic }),
    SnacksPickerGitStatus(special),
    SnacksPickerGitStatusAdded(vcs.added.label),
    SnacksPickerGitStatusDeleted(vcs.deleted.label),
    SnacksPickerGitStatusIgnored(vcs.ignored.label),
    SnacksPickerGitStatusStaged(vcs.modified.label),
    SnacksPickerGitStatusUnmerged({ fg = DiagnosticError.fg }),
    SnacksPickerGitStatusUntracked(vcs.untracked.label),
    SnacksPickerGitType({ Title }),

    UfoFoldedEllipsis(text_sub),
    UfoCursorFoldedLine({ fg = "red" }),

    AvanteButtonPrimary({ fg = "#1e222a", bg = "#abb2bf" }),
    AvanteButtonDefaultHover({ fg = "#1e222a", bg = "#a9cf8a" }),
    AvanteButtonDefault({ fg = "#1e222a", bg = "#abb2bf" }),
    AvanteConfirmTitle({ fg = "#1e222a", bg = "#e06c75" }),
    AvanteToBeDeletedWOStrikethrough({ bg = "#562c30" }),
    AvanteToBeDeleted({ gui = "strikethrough", bg = "#ffcccc" }),
    AvanteInlineHint({ Keyword }),
    AvanteSidebarWinHorizontalSeparator(border),
    AvanteReversedTitle({ fg = "#98c379" }),
    AvanteTitle({ fg = "#1e222a", bg = "#98c379" }),
    AvanteSuggestion(code.comment),
    AvanteReversedThirdTitle({ fg = "#353b45" }),
    AvanteThirdTitle({ fg = "#abb2bf", bg = "#353b45" }),
    AvanteReversedSubtitle({ fg = "#56b6c2" }),
    AvanteSubtitle({ fg = "#1e222a", bg = "#56b6c2" }),
    AvanteThinking({ fg = "#c678dd" }),
    AvanteTaskCompleted({ fg = "#98c379", gui = "bold" }),
    AvanteStateSpinnerCompacting({ Special }),
    AvanteStateSpinnerThinking({ Special }),
    AvanteStateSpinnerSearching({ Special }),
    AvanteStateSpinnerSucceeded({ fg = "#1e222a", bg = "#98c379" }),
    AvanteStateSpinnerFailed({ fg = "#1e222a", bg = "#e06c75" }),
    AvanteStateSpinnerToolCalling({ fg = "#1e222a", bg = "#56b6c2" }),
    AvanteStateSpinnerGenerating({ fg = "#1e222a", bg = "#ab9df2" }),
    AvanteReversedNormal({ bg = "#ffffff" }),
    AvanteCommentFg(code.comment),
    AvanteSidebarWinSeparator(win_border),
    AvanteSidebarNormal(text),
    AvantePromptInput({ fg = text.fg }),
    AvanteButtonDangerHover({ fg = "#1e222a", bg = "#e06c75" }),
    AvanteButtonDanger({ fg = "#1e222a", bg = "#abb2bf" }),
    AvantePromptInputBorder(border),
    AvanteAnnotation(code.comment),
    AvanteButtonPrimaryHover({ fg = "#1e222a", bg = "#56b6c2" }),
    AvantePopupHint({ NormalFloat }),
    AvanteConflictCurrentLabel({ bg = "#6f393e" }),
    AvanteConflictIncoming({ gui = "bold", bg = "#314753" }),
    AvanteConflictCurrent({ gui = "bold", bg = "#562c30" }),
    AvanteConflictIncomingLabel({ bg = "#3f5c6b" }),

    RenderMarkdownBullet({ fg = palette.theme }),
    RenderMarkdownChecked({ sym("@markup.list.checked") }),
    RenderMarkdownCode({ bg = "#212121" }),
    RenderMarkdownCodeFallback(text),
    RenderMarkdownCodeInfo({ sym("@label") }),
    RenderMarkdownCodeInline({ bg = "#313131", gui = "italic" }),
    sym("@markup.raw.markdown_inline")({ bg = "#313131", gui = "italic" }),
    sym("@nonspell.markdown_inline")({ bg = "#313131", gui = "italic" }),
    RenderMarkdownDash({ fg = palette.text_sub2 }),
    RenderMarkdownError({ DiagnosticError }),
    RenderMarkdownH1Bg({ fg = "#B2EBF2", bg = "#1A2B35" }),
    RenderMarkdownH2Bg({ fg = "#C8E6C9", bg = "#1E3524" }),
    RenderMarkdownH3Bg({ fg = "#FFE0B2", bg = "#352B1A" }),
    RenderMarkdownH4Bg({ fg = "#E1BEE7", bg = "#311A35" }),
    RenderMarkdownH5Bg({ fg = "#F8BBD0", bg = "#351A2B" }),
    RenderMarkdownH6Bg({ fg = "#CFD8DC", bg = "#2A2A2A" }),
    RenderMarkdownH1({ fg = "#B2EBF2", bg = "#1A2B35" }),
    RenderMarkdownH2({ fg = "#C8E6C9", bg = "#1E3524" }),
    RenderMarkdownH3({ fg = "#FFE0B2", bg = "#352B1A" }),
    RenderMarkdownH4({ fg = "#E1BEE7", bg = "#311A35" }),
    RenderMarkdownH5({ fg = "#F8BBD0", bg = "#351A2B" }),
    RenderMarkdownH6({ fg = "#CFD8DC", bg = "#2A2A2A" }),
    RenderMarkdownHint({ DiagnosticHint }),
    RenderMarkdownIndent({ fg = "#23272d" }),
    RenderMarkdownInfo({ DiagnosticInfo }),
    RenderMarkdownSign({ SignColumn }),
    RenderMarkdownSuccess({ fg = "#3fb950" }),
    RenderMarkdownTableFill({ bg = "#1e222a" }),
    RenderMarkdownTableRow(text),
    RenderMarkdownTodo({ sym("@markup.raw") }),
    RenderMarkdownUnchecked({ sym("@markup.list.unchecked") }),
    RenderMarkdownWarn({ DiagnosticWarn }),
    RenderMarkdown_RenderMarkdownH1_RenderMarkdownSign({ fg = "#c4d194" }),
    RenderMarkdown_RenderMarkdownH2_RenderMarkdownSign({ fg = "#c4d194" }),

    DiffviewSecondary({ fg = "#fffcd7" }),
    DiffviewPrimary({ fg = "#c7ffb8" }),
    DiffviewDim1({ fg = "#7ae755" }),
    DiffviewFilePanelFileName(text),
    DiffviewFilePanelCounter({ fg = text.fg, gui = "bold" }),
    DiffviewFilePanelTitle({ fg = palette.theme, gui = "bold" }),
    DiffviewFilePanelConflicts({ DiagnosticSignWarn }),
    DiffviewFilePanelInsertions(vcs.added.label),
    DiffviewFilePanelPath({ Comment }),
    DiffviewFilePanelDeletions(vcs.deleted.label),
    DiffviewFilePanelRootPath({ DiffviewFilePanelTitle }),
    DiffviewStatusRenamed(vcs.modified.label),
    DiffviewStatusAdded(vcs.added.label),
    DiffviewStatusIgnored(vcs.ignored.label),
    DiffviewStatusBroken(vcs.deleted.label),
    DiffviewStatusDeleted(vcs.deleted.label),
    DiffviewStatusUnknown(vcs.deleted.label),
    DiffviewStatusUnmerged(vcs.modified.label),
    DiffviewStatusTypeChange(vcs.modified.label),
    DiffviewStatusCopied(vcs.modified.label),
    DiffviewStatusModified(vcs.modified.label),
    DiffviewStatusUntracked(vcs.untracked.label),
    DiffviewReflogSelector({ Special }),
    DiffviewHash(special),
    DiffviewFolderSign({ PreProc }),
    DiffviewFolderName({ Directory }),
    DiffviewCursorLine({ CursorLine }),
    DiffviewNonText({ NonText }),
    DiffviewReference({ Function }),
    DiffviewStatusLineNC({ StatusLineNC }),
    DiffviewStatusLine({ StatusLine }),
    DiffviewEndOfBuffer({ EndOfBuffer }),
    DiffviewSignColumn({ Normal }),
    DiffviewDiffDelete(vcs.deleted.code),
    DiffviewDiffText({ DiffText }),
    DiffviewDiffChange({ DiffChange }),
    DiffviewDiffAdd({ DiffAdd }),
    DiffviewNormal({ Normal }),
    DiffviewWinSeparator({ WinSeparator }),
    DiffviewFilePanelSelected({ Type }),
    DiffviewDiffAddAsDelete({ bg = "red" }),
    DiffviewDiffDeleteDim({ Comment }),
  }
end)
return theme
